<canvas width="600" height="400"></canvas>

<script>
	

	function desenhaRetangulo (x, y, altura, largura, cor){

		var tela = document.querySelector("canvas");
		var pincel = tela.getContext("2d");

		pincel.fillStyle = cor;
		pincel.fillRect(x, y, altura, largura);
		pincel.strokeStyle = "black";
		pincel.strokeRect (x, y, altura, largura);	

	}

	function desenhaTexto (x, y, texto){

		var tela = document.querySelector("canvas");
		var pincel = tela.getContext("2d");

		pincel.font = "15px Georgia";
		pincel.fillStyle = "black";
		pincel.fillText(texto, x, y);	

	}

	function cor(posicao){

	var tela = document.querySelector("canvas");
	var pincel = tela.getContext("2d");


		var posicao = 0;

		while(posicao < cores.length){

			return cores[posicao];

		}

	}

	function desenhaBarra (x, y, serie, cores, ano){

		var comecaEscritaY = y - 20;
		var comecaEscritaX = x + 5;
		
		desenhaTexto(comecaEscritaX, comecaEscritaY, ano);

		var inicioY = y;

		var inicioX = x;

		var posicao = 0
			while(posicao < serie.length){

				var alturaRetangulo = serie[posicao];
				var alturaFinal = inicioY + alturaRetangulo;

				desenhaRetangulo(inicioX, inicioY, 40, alturaRetangulo, cores[posicao]);

				inicioY = inicioY + alturaRetangulo;

				posicao++;

			}

	}


	var serie2015 = [50, 25, 20, 5];
	var serie2016 = [65, 20, 13, 2];
	var cores = ["blue", "green", "yellow", "red"];


desenhaBarra(150, 50, serie2015, cores, "2015");

desenhaBarra(250, 50, serie2016, cores, "2016");


desenhaTexto(5, 200, "Azul = Chrome; Verde = Firefox; Amarelo = Safari; Vermelho = Outros");



</script>